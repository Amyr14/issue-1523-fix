{
  "name": "testMatch",
  "defs": [
    {
      "kind": "typedef",
      "name": "ENTRY_TYPE",
      "type": {
        "kind": "union",
        "tag": "tag",
        "records": [
          {
            "tagValue": "Cat",
            "fields": [
              {
                "fieldName": "name",
                "fieldType": {
                  "kind": "str"
                }
              },
              {
                "fieldName": "year",
                "fieldType": {
                  "kind": "int"
                }
              }
            ]
          },
          {
            "tagValue": "Date",
            "fields": [
              {
                "fieldName": "day",
                "fieldType": {
                  "kind": "int"
                }
              },
              {
                "fieldName": "month",
                "fieldType": {
                  "kind": "int"
                }
              },
              {
                "fieldName": "year",
                "fieldType": {
                  "kind": "int"
                }
              }
            ]
          }
        ]
      }
    },
    {
      "kind": "def",
      "name": "isValid",
      "qualifier": "pred",
      "expr": {
        "kind": "lambda",
        "params": [
          "entry"
        ],
        "qualifier": "pred",
        "expr": {
          "kind": "app",
          "opcode": "match",
          "args": [
            {
              "kind": "name",
              "name": "entry"
            },
            {
              "kind": "str",
              "value": "Cat",
              "type": {
                "kind": "str"
              }
            },
            {
              "kind": "lambda",
              "params": [
                "cat"
              ],
              "qualifier": "def",
              "expr": {
                "kind": "app",
                "opcode": "neq",
                "args": [
                  {
                    "kind": "app",
                    "opcode": "field",
                    "args": [
                      {
                        "kind": "name",
                        "name": "cat"
                      },
                      {
                        "kind": "str",
                        "value": "name"
                      }
                    ]
                  },
                  {
                    "kind": "str",
                    "type": {
                      "kind": "str"
                    },
                    "value": ""
                  }
                ]
              }
            },
            {
              "kind": "str",
              "value": "Date",
              "type": {
                "kind": "str"
              }
            },
            {
              "kind": "lambda",
              "params": [
                "date"
              ],
              "qualifier": "def",
              "expr": {
                "kind": "app",
                "opcode": "igt",
                "args": [
                  {
                    "kind": "app",
                    "opcode": "field",
                    "args": [
                      {
                        "kind": "name",
                        "name": "date"
                      },
                      {
                        "kind": "str",
                        "value": "year"
                      }
                    ]
                  },
                  {
                    "kind": "int",
                    "type": {
                      "kind": "int"
                    },
                    "value": 0
                  }
                ]
              }
            }
          ]
        }
      }
    }
  ]
}
